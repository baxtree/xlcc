a(client(PC, CC), C):: 
	buy(PC, CC) => a(shop, S) <- payby(CC) && lookup(S) then
        receipt(R) <= a(shop, S).
        
a(shop, S):: 
	buy(PC, CC) <= a(client(_),C) then
        receipt(R) => a(client(_), C) <- enough_credit(CC, PC) && complete_order(PC, CC, R).

a(shop, S). 

plays(baxtree@jabber.org, client). 

plays(baxtree2@jabber.org, shop). 

knows(http://okbook.inf.ed.ac.uk:8188/okbook/im/bobNode.js).